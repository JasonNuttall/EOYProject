<div class = "container">


 

      <h3 class="text-center">
        Rota for <select class="selectpicker" name= "selectpicker" id = "selectpicker" >
{{#each doc}}
<option>{{this.username}} </option>
{{/each}}

</select></h3>

<script>
$(document).ready(function($) {
 $('table').hide();

$('#selectpicker').change( function(){
   var selection = $(this).val();
      $('table')[selection? 'show' : 'hide']();
      
      if (selection) {
        $.each($('#rota tbody tr'), function(index, item) {
          $(item)[$(item).is(':contains('+ selection  +')')? 'show' : 'hide']();
        });
      }
        
    });

 });
</script>        


       <table id = "rota"class="table table-striped">

          <thead>
            <tr>
              <th>Date</th>
              <th>Time</th>
              <th>Patient name</th>
              <th>With</th>
            </tr>
          </thead>   
          <tbody>
          	         	{{#each appointments}}
            <tr>
              <td>{{     moment this.appointment_date format="DD MMMM YYYY"}}</td>
              <td>{{     moment this.appointment_date format="HH:mm:ss"}}</td>
              <td>{{this.patient}}</td>
              <td>{{this.counsellor}}</td>
            </td>                                       
          </tr>
	{{/each}}
        </tbody>
</table>
</div>